function removeErrors(form){form.querySelectorAll(".contact__error-border").forEach(div=>{div.classList.remove("contact__error-border"),div.querySelector(".show-error").remove("show-error")}),form.querySelector(".alert").classList.remove("show-alert","success","error")}function showErrors(data){data.forEach(input=>{if(!input.valid){let field=document.querySelectorAll(".contact__input")[input.index].parentElement;field.classList.add("contact__error-border");let box=field.querySelector(".contact__error");box.classList.add("show-error"),box.querySelector(".error-msg").textContent=input.error}}),console.log("Invalid Form")}function showAlert(data){let alert=document.querySelector(".alert");"Fail"===data||400===data||data==={}?(alert.classList.add("error","show-alert"),alert.querySelector("span").textContent="Unable to send Email!"):"OK"!==data&&200!==data||(alert.classList.add("success","show-alert"),alert.querySelector("span").textContent="Email Sent!",document.querySelector("button[type=submit]").innerHTML='Sent! <i class="uil uil-check button__icon"></i>')}function isEmpty(field){return 0!==field.length&&""!==field?field.length>=2&&field.length<=75?[!0,""]:[!1,"2-75 characters max."]:[!1,"Field is empty"]}document.querySelector("form.contact__form").addEventListener("submit",event=>{event.preventDefault();const form=document.querySelector("form.contact__form"),fields=form.querySelectorAll(".contact__input");let data=[];if(fields.forEach((input,index)=>{data.push({name:input.name,id:input.id,type:input.type,value:input.value,index:index,valid:!1,error:"",pattern:()=>"email"===input.type?/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i:/^[a-zA-Z'-,. ]{2,45}$/})}),data.forEach(input=>{let mt=isEmpty(input.value);if(!mt[0])return input.valid=mt[0],input.error=mt[1],!1;input.valid=mt[0],input.error=mt[1],patternMatchTest(input)?(input.valid=!0,input.error=""):(input.valid=!1,input.error="Invalid characters")}),removeErrors(form),data.every(input=>!!input.valid)){const formData={name:data[0].value,email:data[1].value,subject:data[2].value,message:data[3].value};document.querySelector("button[type=submit]").innerHTML='<div class="donut"></div>',fetch("https://api.emailjs.com/api/v1.0/email/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service_id:"service_o6es46p",template_id:"template_2owpp5u",user_id:"user_pwnrSymGTUtZ4MVyEqwmT",template_params:formData})}).then(response=>response.text()).then(result=>{removeErrors(form),showAlert(result),setTimeout(()=>{document.querySelector("button[type=submit]").innerHTML='Send Message <i class="uil uil-message button__icon"></i>'},3e3)}).catch(error=>{console.log("Oops... "+error)})}else showErrors(data);event.preventDefault()});const patternMatchTest=input=>input.pattern().test(input.value);